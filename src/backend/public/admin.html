<!doctype html>
<html lang="en">
<head>
    <link rel="icon" href="data:image/svg+xml,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
          <rect width='100' height='100' rx='20' fill='%233b82f6'/>
          <text x='50' y='58' text-anchor='middle' font-size='60' fill='white'>S</text>
        </svg>">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>ScamSafe • Admin</title>

    <!-- 站点公用样式（保持与首页一致） -->
    <link rel="stylesheet" href="./css/variables.css">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <!-- Admin 专用样式 -->
    <link rel="stylesheet" href="./css/admin.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body>
<!--Top navigation (in line with the home page)） -->
<nav class="navbar" id="navbar">
    <div class="nav-container">
        <a href="home.html#home" class="logo">
            <img src="./assets/images/logo.png" alt="ScamSafe Logo" class="logo-img">
        </a>
        <div class="nav-controls">
            <ul class="nav-links">
                <li><a href="home.html#home" class="nav-link">Home</a></li>
                <li><a href="insights.html" class="nav-link">Insights</a></li>
                <li><a href="home.html#education" class="nav-link">Education</a></li>
                <li><a href="ai-assistant.html" class="nav-link">AI Assistant</a></li>
                <li><a href="home.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <div class="font-controls" role="group" aria-label="Font size controls">
                <button class="font-btn" data-size="small" type="button" aria-label="Decrease font size"
                        title="Smaller"><i class="fa-solid fa-minus"></i></button>
                <button class="font-btn active" data-size="normal" type="button" aria-label="Default size"
                        title="Default"><i class="fa-solid fa-rotate-left"></i></button>
                <button class="font-btn" data-size="large" type="button" aria-label="Increase font size" title="Larger">
                    <i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
</nav>

<div class="admin-wrap">
    <!-- top heading -->
    <header class="card admin-header">
        <div class="card-bd admin-header-body">
            <div>
                <h1 class="section-title">Admin • Active Threat Alerts</h1>
                <p class="muted" id="last-updated">Manage your alerts: create, preview, delete</p>
            </div>
            <a class="btn btn-ghost" href="home.html" title="Back to Home"><i class="fa-solid fa-house"></i> Home</a>
        </div>
    </header>

    <div class="admin-grid">
        <!-- Publishing Cards -->
        <section class="card">
            <div class="card-hd"><i class="fa-solid fa-pen-to-square"></i><strong>Publish a New Alert</strong></div>
            <div class="card-bd admin-form">
                <div class="field">
                    <label class="label">Title</label>
                    <input id="title" class="input" placeholder="e.g. New SMS phishing targeting bank customers"/>
                </div>

                <div class="field">
                    <label class="label">Short Description</label>
                    <textarea id="desc" class="textarea"
                              placeholder="Briefly describe what happened, who is affected, warning signs..."></textarea>
                </div>


                  <div class="form-group">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" rows="10" placeholder="News Content..."></textarea>
                </div>

                <div class="field-row">
                    <div class="field">
                        <label class="label">Type</label>
                        <select id="type" class="select">
                            <option>sms</option>
                            <option>phone</option>
                            <option>email</option>
                            <option>investment</option>
                            <option>social</option>
                            <option>shopping</option>
                            <option>all</option>
                        </select>
                    </div>
                    <div class="field">
                        <label class="label">Severity</label>
                        <select id="severity" class="select">
                            <option>low</option>
                            <option selected>medium</option>
                            <option>high</option>
                            <option>critical</option>
                        </select>
                    </div>
                </div>

                <div class="field-row">
                    <div class="field">
                        <label class="label">Image URL (optional)</label>
                        <div class="input-row">
                            <input id="image" class="input" placeholder="https://.../cover.jpg"/>
                            <input id="imageFile" type="file" accept="image/*" style="display:none">
                            <button type="button" id="chooseImage" class="btn btn-ghost">Select File</button>
                            <button type="button" id="uploadImage" class="btn btn-primary">upload</button>
                        </div>
                        <small class="muted">Paste the URL directly, or select a local image and click upload.</small>
                    </div>
                    <div class="field">
                        <label class="label">Source URL (optional)</label>
                        <input id="url" class="input" placeholder="https://... (original link)"/>
                    </div>
                </div>

                <div class="field-row">
                    <div class="field">
                        <label class="label">Publish Time</label>
                        <input id="time" class="input" type="datetime-local"/>
                        <span class="muted">Empty = now</span>
                    </div>
                    <div class="field">
                        <label class="label">Image Preview</label>
                        <div class="preview" id="imgPreview"><span class="muted">No image</span></div>
                    </div>
                </div>

                <div class="actions">
                    <button class="btn btn-ghost" id="resetBtn"><i class="fa-solid fa-rotate"></i> Reset</button>
                    <button class="btn btn-primary" id="publish"><i class="fa-solid fa-paper-plane"></i> Publish
                    </button>
                </div>
            </div>
        </section>

        <!-- tabs -->
        <section class="card">
            <div class="card-hd"><i class="fa-solid fa-list"></i><strong>Existing Alerts</strong></div>
            <div class="card-bd">
                <div id="list" class="list">
                    <!-- List Rendering Position -->
                </div>
                <div id="empty" class="empty" style="display:none">No alerts yet.</div>
            </div>
        </section>
    </div>
</div>

<!-- 依赖（Keep it consistent with the home page） -->
<script src="./js/config.js"></script>
<script src="./js/utils.js"></script>
<script src="./js/components/fontController.js"></script>
<!-- Admin application-specific logic -->
<script src="./js/admin.js"></script>
</body>
</html>
