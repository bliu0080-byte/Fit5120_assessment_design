/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ✅ 不再覆盖全局背景与内边距（从 index 的全局 CSS 继承） */
/* 之前这里给 body 设置了紫色渐变和 padding:20px; 现在移除 */

/* 页面主容器：给内容预留导航栏高度，避免被吸顶 navbar 遮住 */
main.container, .container {
    max-width: 1200px;
    margin: 0 auto;
    padding-top: 96px; /* 根据你 navbar 的真实高度微调：72~104 都可 */
}

/* ✅ 让导航栏吸顶 */
.navbar {
    position: sticky;
    top: 0;
    z-index: 1000;
}

/* Header（教育页标题区，仅作为版心标题，不控制整页背景） */
.header {
    text-align: center;
    color: var(--text-color, #111);
    margin-bottom: 40px;
    animation: fadeIn 1s ease-in;
}

.header h1 {
    font-size: 2.5em;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.06);
}

.header p {
    font-size: 1.2em;
    opacity: 0.95;
}

/* Module Selection */
.modules-container{
    display:grid;
    gap:28px;
    grid-template-columns: repeat(3, 1fr); /* 👈 三列 */
    max-width:1200px; /* 可以加宽一点，避免卡片太挤 */
    margin:0 auto;
}


.module-card {
    background: #fff;
    border: 2px solid #f97316;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 0 0 3px #f97316;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.module-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
}

.module-card::before {
    content: none !important;
    display: none !important;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(135deg, #f97316, #f59e0b);
}

.module-icon {
    font-size: 3em;
    margin-bottom: 15px;
}

.module-title {
    font-size: 1.5em;
    color: #333;
    margin-bottom: 10px;
    font-weight: 600;
}

.module-description {
    color: #666;
    line-height: 1.6;
    margin-bottom: 15px;
}

.module-questions {
    color: #667eea;
    font-weight: 500;
}

/* Quiz Container */
.quiz-container {
    background: #fff;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
    display: none;
    animation: slideIn 0.5s ease-out;
}

.quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #f0f0f0;
}

.quiz-title {
    font-size: 1.8em;
    color: #333;
}

/* Progress Bar */
.progress-bar {
    width: 100%;
    height: 8px;
    background: #f0f0f0;
    border-radius: 10px;
    margin-bottom: 30px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(135deg, #f97316, #f59e0b);
    border-radius: 10px;
    transition: width 0.3s ease;
}

/* Question Styles */
.question-container {
    margin-bottom: 30px;
}

.question-number {
    color: #f97316;
    font-weight: 600;
    margin-bottom: 15px;
    font-size: 1.1em;
}

.question-text {
    font-size: 1.3em;
    color: #333;
    line-height: 1.6;
    margin-bottom: 25px;
}

.scenario-box {
    background: #f8f9fa;
    border-left: 4px solid #f97316;
    padding: 20px;
    margin-bottom: 25px;
    border-radius: 8px;
}

/* Options */
.options-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.option-button {
    background: #f8f9fa;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    padding: 20px;
    text-align: left;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.1em;
    position: relative;
}

.option-button:hover:not(.disabled) {
    background: #f0f0ff;
    border-color:#f97316;
    transform: translateX(5px);
}

.option-button.selected {
    background: #f97316;
    color: #fff;
    border-color: #f97316;
}

.option-button.correct {
    background: #4caf50;
    color: #fff;
    border-color: #4caf50;
}

.option-button.incorrect {
    background: #f44336;
    color: #fff;
    border-color: #f44336;
}

.option-button.disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

/* Feedback */
.feedback-container {
    margin-top: 25px;
    padding: 25px;
    border-radius: 12px;
    display: none;
    animation: fadeIn 0.5s ease;
}

.feedback-container.correct {
    background: #e8f5e9;
    border: 2px solid #4caf50;
}

.feedback-container.incorrect {
    background: #ffebee;
    border: 2px solid #f44336;
}

.feedback-title {
    font-size: 1.3em;
    font-weight: 600;
    margin-bottom: 15px;
}

.feedback-container.correct .feedback-title {
    color: #2e7d32;
}

.feedback-container.incorrect .feedback-title {
    color: #c62828;
}

.feedback-explanation {
    color: #333;
    line-height: 1.6;
    font-size: 1.05em;
}

/* Navigation Buttons */
.navigation-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    gap: 15px;
}

.nav-button {
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.back-button {
    background: #e0e0e0;
    color: #333;
}

.back-button:hover {
    background: #d0d0d0;
}

.next-button {
    background: linear-gradient(135deg, #f97316, #f59e0b);
    color: #fff;
    flex-grow: 1;
}

.next-button:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.25);
}

.next-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Results */
.results-container {
    text-align: center;
    padding: 40px;
    display: none;
}

.results-title {
    font-size: 2.5em;
    color: #333;
    margin-bottom: 30px;
}

.score-circle {
    width: 200px;
    height: 200px;
    margin: 0 auto 30px;
    border-radius: 50%;
    background: linear-gradient(135deg, #f97316, #f59e0b);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
}

.score-text {
    color: #fff;
    font-size: 3em;
    font-weight: bold;
}

.results-message {
    font-size: 1.3em;
    color: #666;
    margin-bottom: 30px;
    line-height: 1.6;
}

.results-breakdown {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 30px;
    text-align: left;
}

.breakdown-title {
    font-size: 1.3em;
    color: #333;
    margin-bottom: 15px;
    font-weight: 600;
}

.breakdown-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    padding: 10px;
    background: #fff;
    border-radius: 8px;
}

.breakdown-icon {
    font-size: 1.5em;
    margin-right: 15px;
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive */
@media (max-width: 768px) {
    .header h1 {
        font-size: 2em;
    }

    .modules-container {
        grid-template-columns: 1fr;
    }

    .quiz-container {
        padding: 25px;
    }

    .question-text {
        font-size: 1.1em;
    }

    .option-button {
        padding: 15px;
        font-size: 1em;
    }

    .quiz-header {
        flex-direction: column;
        gap: 15px;
    }

    .score-circle {
        width: 150px;
        height: 150px;
    }

    .score-text {
        font-size: 2em;
    }
}

/* A line of two large cards */
.modules-container{
    display:grid;
    gap:28px;
    grid-template-columns: repeat(3, 1fr); /* 👈 三列 */
    max-width:1200px; /* 可以加宽一点，避免卡片太挤 */
    margin:0 auto;
}


/* Card Appearance */
.module-card{
    background:#fff;
    border-radius:22px;
    border:0;
    box-shadow:0 14px 36px rgba(2,6,23,.12);
}

/* Top colored stripes retained */
.mc-topbar{ height:6px; border-radius:22px 22px 0 0;
    background:linear-gradient(90deg,#f59e0b,#f97316);
}

/* -------- Key: Grid Layout -------- */
:root{ --media-w: 200px; --media-h: 140px; --footer-h: 56px; }

.mc-grid {
    display: flex;
    flex-direction: column; /* 垂直排布 */
    align-items: center;    /* 居中 */
    padding: 22px;
    gap: 16px; /* 元素之间留点空隙 */
}

.mc-media {
    width: 100%;
    max-width: 200px; /* 限制图片宽度，不要撑爆卡片 */
    height: auto;
    display: flex;
    justify-content: center; /* 水平居中 */
}

.mc-img {
    width: 100%;
    height: auto;
    object-fit: contain; /* 保持完整比例 */
    border-radius: 12px;
}


/* Left side copy spans two rows (taking up rows 1 and 2), starting from the top left*/
.mc-body{
    grid-column:1 / 2;
    grid-row:1 / 3;
    padding:6px 16px 8px 6px;
}
.mc-title{ font-size:1.6rem; line-height:1.25; font-weight:800; color:#111827; margin:6px 0 12px; }
.mc-desc{ color:#475569; line-height:1.65; }




/* Bottom button: occupies row 3, spans two columns → all card buttons on the same horizontal line */
.mc-footer {
    display: flex;
    flex-direction: column;   /* 垂直排列 */
    align-items: center;      /* 居中对齐 */
    justify-content: center;  /* 居中 */
    gap: 8px;                 /* 按钮和 meta 的间距 */
    padding-top: 10px;
    border-top: none;
}
/* Meta 信息：显示时间和参与人数 */
.module-meta {
    display: flex;
    justify-content: center;   /* 居中 */
    align-items: center;
    gap: 16px;                 /* 两项之间的间距 */
    font-size: 0.95rem;        /* 字体稍小 */
    color: #444;               /* 字体颜色 */
    margin-top: 6px;           /* 和按钮保持间距 */
}

.mc-cta{
    appearance:none; border:0; border-radius:14px;
    padding:12px 18px; font-weight:800; font-size:1rem;
    background:#f97316; color:#fff;
    box-shadow:0 10px 22px rgba(37,99,235,.25);
    transition:transform .15s, box-shadow .15s, background .15s;
}
.mc-cta:hover{ background:#ea580c; transform:translateY(-1px); }

/* Small screen: single column, top image - copy - button */
@media (max-width:900px){
    .modules-container{ grid-template-columns:1fr; }
    .mc-grid{
        grid-template-columns:1fr;
        grid-template-rows: var(--media-h) auto var(--footer-h);
    }
    .mc-media{ grid-column:1/2; grid-row:1/2; }
    .mc-body{  grid-column:1/2; grid-row:2/3; }
    .mc-footer{grid-column:1/2; grid-row:3/4; }
}
/* === Quiz modal: fill screen & compact === */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.55);
    z-index: 100000;
}
.modal-content {
    position: relative;
    margin: 2vh auto;
    width: min(92vw, 1000px);
    max-height: 96vh;         /* 限制最大高度 */
    background: var(--card-bg, #fff);
    color: var(--text, #111);
    border-radius: 16px;
    box-shadow: 0 12px 40px rgba(0,0,0,.35);
    overflow-y: auto;         /* ✅ 允许竖向滚动 */
    overflow-x: hidden;       /* 横向不要滚动 */
    padding: 16px 18px;       /* 给点 padding，避免内容贴边 */
}

/*.modal-content{
    position: relative;
    margin: 2vh auto;
    width: min(92vw, 1000px);
    height: 96vh;
    max-height: 96vh;
    background: var(--card-bg, #0b1220);
    color: var(--text, #111);
    border-radius: 16px;
    box-shadow: 0 12px 40px rgba(0,0,0,.35);
    overflow: hidden;
} */

.quiz-container{
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px 18px;
}

/* Top title bar, progress bar do not take up much height */
.quiz-header{ margin: 0; display:flex; align-items:center; gap:12px; }
.quiz-title{ margin: 0; font-size: 22px; }
.progress-bar{ height: 8px; border-radius: 6px; overflow: hidden; }

/* Title area is scalable; avoids overall scrolling */
.question-container{
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Option two-column layout to significantly reduce total height (>=768px in effect) */
@media (min-width: 768px){
    .options-container{
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
    }
}

/* More compact option buttons */
.option-button{
    padding: 12px 14px;
    min-height: 48px;
    font-size: 16px;
}

 .feedback-container{
    padding: 12px 14px;
    border-radius: 10px;
}
.feedback-title{ font-size: 18px; margin-bottom: 6px; }

/* The bottom button is fixed at the bottom of the viewing area and does not move up with the content */
.navigation-buttons{
    flex: 0 0 auto;
    position: sticky;
    bottom: 0;
    padding-top: 6px;
    background: linear-gradient(to top, rgba(11,18,32,0.95), rgba(11,18,32,0)); /* 轻微过渡 */
}

/* Close button remains clickable */
.close{
    position:absolute; top:10px; right:14px; font-size:24px; cursor:pointer; z-index:2;
}

/* Mobile: allow scrolling as a pocket (small screens can't guarantee no scrolling at all) */@media (max-width: 767px){
    .modal-content{ height: 100vh; margin: 0; border-radius: 0; }
    .quiz-container{ padding: 14px; }
    .options-container{ display: grid; grid-template-columns: 1fr; } /* 单列，保证可读性 */
}



/* gif container
.gif-container {
    margin-top: 20px;
    text-align: center;
}

.gif-container img {
    max-width: 200px;
    height: auto;
    border-radius: 12px; /* 可选，让图片圆角 */
}